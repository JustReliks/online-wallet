<div class="row w-100">
  <div class="col">
    <div class="alert alert-success" role="alert">
      <h4 class="alert-heading">Раздел доходов!</h4>
      <p>Этот раздел отражает учет доходов, полученных в результате поступления денежных средств и (или) иных действий,
        приводящих к увеличению капитала</p>
      <hr>
      <p class="mb-0">©Online-wallet</p>
    </div>
  </div>
</div>
<div class="row p-3">
  <div class="col">
    <p class="font-weight-bold"
       style="font-size: 21px">{{this.accounts.length == 0 ? 'На данный момент к аккаунту не привязан ни один счёт. Вы можете создать его в\n' +
      '      разделе "Мои счета"' : accountsExpanded
      ? 'Выберите счет, для отображения подробной статистики:'
      : 'Статистика по счету: ' + selectedAccount.name}} </p>
  </div>
  <div *ngIf="selectedAccount!=null" class="col-4">
    <button (click)="accountsExpanded=!accountsExpanded;selectedAccount=null" class="btn_common">Отобразить счета
    </button>
  </div>
</div>
<mat-expansion-panel *ngIf="this.accounts.length!=0" [expanded]="accountsExpanded">
  <div class="row w-100 mt-2">
    <div class="col-3 mb-3" *ngFor="let account of accounts" (click)="showAccountStatistic(account)">
      <div class="w-account mat-form-field-flex justify-content-center">
        <div class=" w-account-header">
          <div class="w-money">{{account.accountBills[0].balance}} <span
            class="w-currency">{{account.accountBills[0].currency.shortName}}</span></div>
          <div class="w-money" style="position: relative; left: 17%">{{account.accountBills[1]?.balance}} <span
            class="w-currency">{{account.accountBills[1]?.currency.shortName}}</span></div>
        </div>
        <hr class="w-line"/>
        <img [src]="getAccountImg(account)" class="w-img">
        <div class="w-account-title">{{account.name}}</div>
        <hr class="w-line"/>
        <div class="w-account-description">{{account.description}}</div>
      </div>
    </div>
  </div>
</mat-expansion-panel>
<div *ngIf="!accountsExpanded" class="w-account-statistic">
  <div class="w-stats"></div>
  <div class="row mt-3">
    <div class="col w-text-align-last-center">
      <button mat-raised-button color="primary" class="btn  purchase-btn">День</button>
    </div>
    <div class="col">
      <button mat-raised-button color="primary" class=" bnt purchase-btn">Неделя</button>
    </div>
    <div class="col">
      <button mat-raised-button color="primary" class="btn purchase-btn">Месяц</button>
    </div>
  </div>
  <div class="row chart">
    <div class="col mt-3">
      <div class="w-title w-text-align-last-center mb-3">Доходы</div>
      <div [chart]="chartIncomeLine"></div>
      <div [chart]="chartIncomeCircle"></div>
    </div>
    <div class="col mt-3">
      <div class="w-title w-text-align-last-center mb-3">Расходы</div>
      <div [chart]="chartExpensesLine"></div>
      <div [chart]="chartExpensesCircle"></div>
    </div>
  </div>

</div>
